{% extends "base.html" %}

{% block content %}
  {% if errors %}
  <div class="alert alert-danger alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    {% if 'invalid_projects' in errors %}
    <p><strong>Upozornění</strong> Neplatný výběr projektu. Prosím, vyberte si projekt CS_REST.</p>
    {% elif 'invalid_languages' in errors %}
    <p><strong>Upozornění</strong> Neplatný výběr jazyka. Prosím, vyberte si češtinu.</p>
    {% else %}
    <p><strong>Upozornění</strong> Something bad happened. Please try again.</p>
    {% endif %}
  </div>
  {% endif %}

  <div class="page-header">
    <h1>Uživatelský profil pro projekt CS_REST</h1>
    <p>Prosím, vyberte si projekty a jazyky (tj., zaškrtněte CS_REST a češtinu).</p>
    
    <div class="panel panel-primary" style="margin-top: 20px;">
      <div class="panel-heading">
        <h3 class="panel-title"><strong></strong></h3>
      </div>
      <div class="panel-body"> 
      </div>
    </div>
  </div>
  <form class="form-horizontal" method="post" action="{% url appraise.cs_rest.views.profile_update %}">
  {% csrf_token %}
  
      <div class="form-group">
      <label for="id_projects" class="col-sm-4 control-label">Projekty</label>
      <div class="col-sm-4">
        <div class="input-group">
          <div class="input-group-addon">povinné</div>
          <select class="form-control" name="projects" id="id_projects" multiple="multiple">
          {% for project in project_choices %}
            <option {% if project in project_status %}selected="selected"{% endif %}value="{{project}}">{{project}}</option>
          {% endfor%}
          </select>
        </div>
        <span id="helpProjects" class="help-block">Volba projektu k evaluaci (prosím, zaškrtněte CS_REST)</span>
      </div>
    </div>

    <div class="form-group">
      <label for="id_languages" class="col-sm-4 control-label">Jazyky</label>
      <div class="col-sm-4">
        <div class="input-group">
          <div class="input-group-addon">povinné</div>
          <select class="form-control" name="languages" id="id_languages" multiple="multiple">
            <option {% if '2ces' in languages %}selected="selected"{% endif %}value="2ces">Czech (Čeština)</option>
          </select>
        </div>
        <span id="helpLanguages" class="help-block">Volba jazyka pro evaluaci (prosím, zaškrtněte češtinu)</span>
      </div>
    </div>

    <button type="submit" class="col-sm-offset-4 btn btn-primary">Nastavit</button>

  </form>
{% endblock %}

{% block actions %}
    <script>
  {% if focus_input %}
      // Set focus to given input
      $('#{{ focus_input }}').focus();
  {% else %}
      // by default, set focus on username input
      $('#id_projects').focus();
  {% endif %}
    </script>
{% endblock %}
