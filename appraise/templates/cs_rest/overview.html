{% extends "cs_rest/base.html" %}

{% block content %}
  {% if message %}
  <div class="alert alert-danger alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <p><strong>Upozornění:</strong> {{message}}</p>
  </div>
  {% endif %}

  <div class="page-header">
    <h1>Úkoly hodnocení</h1>
    <p>Tato stránka ukazuje seznam dostupných úkolů a statistiky splněných úkolů. Začněte hodnotit kliknutím na <em>Blok úkolů</em> níže.</p>
  </div>
  <div class="container col-sm-12">
    {% if not hit_data %}
    <div class="panel panel-primary" style="margin-top: 20px;">
      <div class="panel-heading">
        <h3 class="panel-title"><strong>Poznámka</strong></h3>
      </div>
      <div class="panel-body">
        <p><strong>Žádné úkoly nejsou dostupné...</strong>Momentálně nejsou k dispozici žádné úkoly, na kterých byste mohli pracovat. To znamená, že je asi něco špatně – dejte prosím vědět Ondřejovi.</p>
      </div>
    </div>
{% endif %}

<table class="table table-striped table-bordered">
<tr>
  <th style="width: 20%;">Jméno úkolu</th>
  <th style="width: 20%;">Projekt</th>
  <th style="width: 20%;">Jazyk</th>
  <th style="width: 20%;">Splněno</th>
  <th style="width: 10%;">Čas/úkol</th>
  <th style="width: 10%;">Čas celkem</th>
</tr>
{% for language_pair, hit_url, hit_id, status, annotation_project in hit_data %}
<tr>
  <td><a href="{{hit_url}}">Blok úkolů #{{hit_id}}</a></td>
  <td>{{annotation_project.name}}</td>
  <td>{{language_pair}}</td>
  <td><span class="badge badge-inverse"><div class="bar" style="width: 66%;">{{status.0}} úkolů</span></td>
  <td>{{status.1}}</td>
  <td>{{status.2}}</td>
</tr>
{% endfor %}
<tr>
  <td colspan="3"><strong>Celkem</strong></td>
  <td><span class="badge badge-inverse"><div class="bar" style="width: 66%;">{{total.0}} úkolů</span></td>
  <td>{{total.1}}</td>
  <td>{{total.2}}</td>
</tr>
{% if group_name and group_status %}
<tr>
  <td colspan="3"><strong>{{group_name}} Celkem</strong></td>
  <td><span class="badge badge-inverse"><div class="bar" style="width: 66%;">{{group_status.0}} úkolů</span></td>
  <td>{{group_status.1}}</td>
  <td>{{group_status.2}}</td>
</tr>
{% endif %}
</table>

</div>
{% endblock %}
